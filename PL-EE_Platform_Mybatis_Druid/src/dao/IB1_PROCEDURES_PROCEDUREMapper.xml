<?xml version="1.0" encoding="UTF8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!--namespace绑定一个对应的Mapper接口（Dao）-->
<mapper namespace="dao.IB1_PROCEDURES_PROCEDUREMapper">

    <select id="getIB1_PROCEDURES_PROCEDURE" resultType="pojo.IB1_PROCEDURES_PROCEDURELei">

    SELECT * FROM IB1_PROCEDURES_PROCEDURE
    <where>
    <if test = "platform_name != null">
        platform_name = #{platform_name}
    </if>
    <if test = "IB1_VERSION != null">
        and IB1_VERSION = #{IB1_VERSION}
    </if>
    <if test = "diagnose_adr != null">
        and diagnose_adr = #{diagnose_adr}
    </if>
    </where>
    </select>

    <select id="getIB1_BLOCK_NAME" resultType="pojo.IB1_PROCEDURES_PROCEDURELei">

        SELECT BLOCK_NAME FROM IB1_PROCEDURES_PROCEDURE
        <where>
            <if test = "platform_name != null">
                platform_name = #{platform_name}
            </if>
            <if test = "IB1_VERSION != null">
                and IB1_VERSION = #{IB1_VERSION}
            </if>
            <if test = "diagnose_adr != null">
                and diagnose_adr = #{diagnose_adr}
            </if>
        </where>
    </select>



<!--    <select id="getIB1_All" resultMap="test">
    SELECT
    ib.IB1_RELEASE_DATE IB1_RELEASE_DATE,
    ipp.BLOCK_NAME BLOCK_NAME
    FROM ib1_basic AS ib LEFT JOIN ib1_procedures_procedure AS ipp
    ON ib.platform_name = ipp.platform_name
    AND ib.diagnose_adr = ipp.diagnose_adr
    </select>

    <resultMap id="test" type="pojo.IB1_PROCEDURES_PROCEDURELei">
        <result property="BLOCK_NAME" column="BLOCK_NAME"></result>
        <association property="IB1_Basic" javaType="pojo.IB1_BasicLei">
            <result property="IB1_RELEASE_DATE" column="IB1_RELEASE_DATE"></result>
        </association>

    </resultMap>-->

</mapper>